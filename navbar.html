<nav class="navbar">
    <ul class="nav-links">
        <li><a href="index.html" class="nav-link">Dashboard</a></li>
        <li><a href="lookup.html" class="nav-link">Lookup</a></li>
        <li><a href="passwords.html" class="nav-link">Passwords</a></li>
        <li><a href="mailto.html" class="nav-link">MailTo</a></li>
    </ul>
    <div class="nav-actions">
    </div>
</nav>

<script>
    (() => {
        try {
            const currentPath = window.location.pathname; 
            const links = document.querySelectorAll('.nav-link');
            
            // Highlight active link
            links.forEach(link => {
                try {
                    const linkPath = new URL(link.href, window.location.origin).pathname;
                    if (linkPath === currentPath || (currentPath === '/' && linkPath.endsWith('/index.html'))) {
                        link.classList.add('active');
                    }
                } catch (e) {
                    // Ignore URL parsing errors
                }
            });

            // Keyboard Navigation (Ctrl + 1-4)
            document.addEventListener('keydown', (e) => {
                // Check for Ctrl key (or Command on Mac if desired, currently just Ctrl)
                // Ensure no other modifier keys are pressed
                if (e.ctrlKey && !e.shiftKey && !e.altKey && !e.metaKey) {
                    const key = e.key;
                    
                    // Map keys 1-4 to pages
                    const pageMap = {
                        '1': 'index.html',
                        '2': 'lookup.html',
                        '3': 'passwords.html',
                        '4': 'mailto.html'
                    };

                    if (pageMap[key]) {
                        e.preventDefault(); // Prevent default browser behavior (like switching tabs)
                        
                        // Only navigate if we aren't already there
                        const targetPath = '/' + pageMap[key];
                        if (!window.location.pathname.endsWith(targetPath) && 
                            !(targetPath === '/index.html' && window.location.pathname === '/')) {
                            window.location.href = pageMap[key];
                        }
                    }
                }
            });

        } catch (e) {
            console.error('Navbar initialization error:', e);
        }
    })();
</script>

