<!-- 
  Version: 1.2.1
  CLEANUP: Removed "AppSuite" navbar-brand title.
  All styles are loaded from the main style.css file.
-->

<nav class="navbar">
    
    <ul class="navbar-links">
        <li><a href="index.html" class="nav-link">Dashboard</a></li>
        <li><a href="lookup.html" class="nav-link">Lookup</a></li>
        <li><a href="passwords.html" class="nav-link">Passwords</a></li>
        <li><a href="mailto.html" class="nav-link">MailTo</a></li>
        <li><a href="calculator.html" class="nav-link">EOD Targets</a></li>
    </ul>
    
    <div class="nav-actions">
    </div>
</nav>

<script>
    (() => {
        try {
            // Find the current page filename
            const pathParts = window.location.pathname.split('/');
            const currentPage = pathParts.pop() || 'index.html'; // Default to index.html if path is just "/"
            
            const links = document.querySelectorAll('.navbar-links .nav-link');
            
            // Highlight active link
            links.forEach(link => {
                try {
                    // Check if the link's href ends with the current page filename
                    if (link.href.endsWith(currentPage)) {
                        link.classList.add('active');
                    }
                } catch (e) {
                    console.error("Error parsing nav link URL:", e);
                }
            });

            // Keyboard Navigation (Ctrl + 1-5)
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && !e.shiftKey && !e.altKey && !e.metaKey) {
                    const key = e.key;
                    
                    const pageMap = {
                        '1': 'index.html',
                        '2': 'lookup.html',
                        '3': 'passwords.html',
                        '4': 'mailto.html',
                        '5': 'calculator.html'
                    };

                    if (pageMap[key]) {
                        e.preventDefault(); 
                        const targetPage = pageMap[key];
                        
                        // Only navigate if we aren't already on that page
                        if (currentPage !== targetPage) {
                             window.location.href = targetPage;
                        }
                    }
                }
            });

        } catch (e) {
            console.error('Navbar initialization error:', e);
        }
    })();
</script>
